{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\project\\\\hello-next\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport Layout from \"./components/MyLayout\";\nimport cheerio from \"cheerio\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport Post from \"./components/Post\";\nconst layoutStyle = {\n  marginTop: \"10\",\n  marginBottom: \"20\",\n  padding: \"20\",\n  border: \"1px solid #DDD\"\n};\nconst postStyle = {\n  border: \"1px solid #ddd\",\n  borderRadius: \"4px\",\n  padding: \"5px\",\n  width: \"200px\",\n  paddingTop: \"30px\"\n};\n/****\r\n * Bat dau config\r\n */\n\nconst myConfig = {\n  webSite: {\n    url: \"https://vn.indeed.com/jobs?q=&l=Vi%E1%BB%87t+Nam&start=\",\n    parent: \"#resultsCol\",\n    child: \".jobsearch-SerpJobCard\",\n    title: 'a[data-tn-element=\"jobTitle\"]',\n    company: \".company\",\n    address: \".accessible-contrast-color-location\",\n    summary: \".summary\"\n  }\n}; // client side\n\nfunction Page({\n  titleResult,\n  addressResult,\n  companyResult,\n  summaryResult\n}) {\n  const data = titleResult.map((el, idx) => {\n    return {\n      title: el,\n      address: addressResult[idx],\n      company: companyResult[idx],\n      summary: summaryResult[idx]\n    };\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, data.map((el, idx) => {\n    return __jsx(\"div\", {\n      style: postStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \"STT:\", idx), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, el.title), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, el.address), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, el.company), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, el.summary));\n  })));\n}\n\nexport default Page; // server side\n\nexport async function getServerSideProps() {\n  let couter = 10;\n  let title = [];\n  let company = [];\n  let address = [];\n  let summary = [];\n  let summaryTemp = [];\n\n  while (couter < 20) {\n    let URL = myConfig.webSite.url + {\n      couter\n    };\n    let resFromUrl = await axios.get(URL);\n    let $ = cheerio.load(resFromUrl.data); // đống code để lấy dữ liệu\n\n    $(myConfig.webSite.parent).find(myConfig.webSite.child).each((i, el) => {\n      $(el).find(myConfig.webSite.title).each((i, el) => title.push($(el).text()));\n      $(el).find(myConfig.webSite.company).each((i, el) => company.push($(el).text()));\n      $(el).find(myConfig.webSite.address).each((i, el) => address.push($(el).text()));\n      $(el).find(myConfig.webSite.summary).each((i, el) => {\n        $(el).find(\"li\").each((i, el) => {\n          summaryTemp.push($(el).text());\n        });\n        summary.push(summaryTemp);\n        summaryTemp = [];\n      });\n    });\n    couter += 10;\n  } // Duyệt qua các mảng\n\n\n  const titleResult = title.filter(n => n != undefined);\n  const addressResult = address.filter(n => n != undefined);\n  const companyResult = company.filter(n => n != undefined);\n  const summaryResult = summary.filter(n => n != undefined);\n  return {\n    props: {\n      titleResult: titleResult,\n      addressResult: addressResult,\n      companyResult: companyResult,\n      summaryResult: summaryResult\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/project/hello-next/pages/index.js"],"names":["Layout","cheerio","axios","React","useState","Post","layoutStyle","marginTop","marginBottom","padding","border","postStyle","borderRadius","width","paddingTop","myConfig","webSite","url","parent","child","title","company","address","summary","Page","titleResult","addressResult","companyResult","summaryResult","data","map","el","idx","getServerSideProps","couter","summaryTemp","URL","resFromUrl","get","$","load","find","each","i","push","text","filter","n","undefined","props"],"mappings":"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","sourcesContent":["import Layout from \"./components/MyLayout\";\r\nimport cheerio from \"cheerio\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Post from \"./components/Post\";\r\n\r\nconst layoutStyle = {\r\n  marginTop: \"10\",\r\n  marginBottom: \"20\",\r\n  padding: \"20\",\r\n  border: \"1px solid #DDD\",\r\n};\r\nconst postStyle = {\r\n  border: \"1px solid #ddd\",\r\n  borderRadius: \"4px\",\r\n  padding: \"5px\",\r\n  width: \"200px\",\r\n  paddingTop: \"30px\",\r\n};\r\n\r\n/****\r\n * Bat dau config\r\n */\r\n\r\nconst myConfig = {\r\n  webSite: {\r\n    url: \"https://vn.indeed.com/jobs?q=&l=Vi%E1%BB%87t+Nam&start=\",\r\n    parent: \"#resultsCol\",\r\n    child: \".jobsearch-SerpJobCard\",\r\n    title: 'a[data-tn-element=\"jobTitle\"]',\r\n    company: \".company\",\r\n    address: \".accessible-contrast-color-location\",\r\n    summary: \".summary\",\r\n  },\r\n};\r\n\r\n// client side\r\nfunction Page({ titleResult, addressResult, companyResult, summaryResult }) {\r\n  const data = titleResult.map((el, idx) => {\r\n    return {\r\n      title: el,\r\n      address: addressResult[idx],\r\n      company: companyResult[idx],\r\n      summary: summaryResult[idx],\r\n    };\r\n  });\r\n  return (\r\n    <div>\r\n      <Layout>\r\n        {data.map((el, idx) => {\r\n          return (\r\n            <div style={postStyle}>\r\n              <h1>STT:{idx}</h1>\r\n              <p>{el.title}</p>\r\n              <p>{el.address}</p>\r\n              <p>{el.company}</p>\r\n              <p>{el.summary}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page;\r\n// server side\r\nexport async function getServerSideProps() {\r\n  let couter = 10;\r\n  let title = [];\r\n  let company = [];\r\n  let address = [];\r\n  let summary = [];\r\n  let summaryTemp = [];\r\n  while (couter < 20) {\r\n    let URL = myConfig.webSite.url + { couter };\r\n    let resFromUrl = await axios.get(URL);\r\n    let $ = cheerio.load(resFromUrl.data);\r\n    // đống code để lấy dữ liệu\r\n    $(myConfig.webSite.parent)\r\n      .find(myConfig.webSite.child)\r\n      .each((i, el) => {\r\n        $(el)\r\n          .find(myConfig.webSite.title)\r\n          .each((i, el) => title.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.company)\r\n          .each((i, el) => company.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.address)\r\n          .each((i, el) => address.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.summary)\r\n          .each((i, el) => {\r\n            $(el)\r\n              .find(\"li\")\r\n              .each((i, el) => {\r\n                summaryTemp.push($(el).text());\r\n              });\r\n            summary.push(summaryTemp);\r\n            summaryTemp = [];\r\n          });\r\n      });\r\n    couter += 10;\r\n  }\r\n  // Duyệt qua các mảng\r\n  const titleResult = title.filter((n) => n != undefined);\r\n  const addressResult = address.filter((n) => n != undefined);\r\n  const companyResult = company.filter((n) => n != undefined);\r\n  const summaryResult = summary.filter((n) => n != undefined);\r\n\r\n  return {\r\n    props: {\r\n      titleResult: titleResult,\r\n      addressResult: addressResult,\r\n      companyResult: companyResult,\r\n      summaryResult: summaryResult,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}