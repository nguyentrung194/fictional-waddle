{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\hello-next\\\\pages\\\\index.js\";\n\nvar __jsx = React.createElement;\nimport Layout from './components/MyLayout';\nimport React, { useState } from 'react';\nimport Post from './components/Post';\nvar layoutStyle = {\n  marginTop: 10,\n  marginBottom: 20,\n  padding: 20,\n  border: '1px solid #DDD'\n};\nvar postStyle = {\n  border: '1px solid #ddd',\n  borderRadius: '4px',\n  padding: '5px',\n  width: '200px'\n};\n/****\r\n * Bat dau config\r\n */\n\n// client side\nexport var __N_SSP = true;\nexport default (function (_ref) {\n  var props1 = _ref.props1,\n      props2 = _ref.props2,\n      props3 = _ref.props3;\n  console.log({\n    props1: props1,\n    props2: props2,\n    props3: props3\n  });\n  var props = props1.map(function (title, index) {\n    return {\n      title: title,\n      img: props2[index],\n      key: index\n    };\n  });\n  console.log(props);\n  var key = 0;\n  return __jsx(Layout, {\n    content: __jsx(\"div\", {\n      style: layoutStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, \"Result\"), props.map(function (url) {\n      return __jsx(Post, {\n        title: url.title,\n        img: url.img,\n        key: url.key,\n        style: postStyle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 10\n        }\n      });\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  });\n}); // server side","map":{"version":3,"sources":["C:/Users/Admin/Desktop/hello-next/pages/index.js"],"names":["Layout","React","useState","Post","layoutStyle","marginTop","marginBottom","padding","border","postStyle","borderRadius","width","props1","props2","props3","console","log","props","map","title","index","img","key","url"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AAGA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,EADO;AAElBC,EAAAA,YAAY,EAAE,EAFI;AAGlBC,EAAAA,OAAO,EAAE,EAHS;AAIlBC,EAAAA,MAAM,EAAE;AAJU,CAApB;AAMA,IAAMC,SAAS,GAAC;AACdD,EAAAA,MAAM,EAAE,gBADM;AAEdE,EAAAA,YAAY,EAAE,KAFA;AAGdH,EAAAA,OAAO,EAAE,KAHK;AAIdI,EAAAA,KAAK,EAAE;AAJO,CAAhB;AAOA;;;;AAgBA;;AACA,gBAAe,gBAA8B;AAAA,MAA5BC,MAA4B,QAA5BA,MAA4B;AAAA,MAApBC,MAAoB,QAApBA,MAAoB;AAAA,MAAZC,MAAY,QAAZA,MAAY;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACJ,IAAAA,MAAM,EAANA,MAAD;AAASC,IAAAA,MAAM,EAANA,MAAT;AAAiBC,IAAAA,MAAM,EAANA;AAAjB,GAAZ;AACA,MAAMG,KAAK,GAAGL,MAAM,CAACM,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR;AAAA,WAAiB;AAACD,MAAAA,KAAK,EAAEA,KAAR;AAAeE,MAAAA,GAAG,EAAER,MAAM,CAACO,KAAD,CAA1B;AAAmCE,MAAAA,GAAG,EAAEF;AAAxC,KAAjB;AAAA,GAAX,CAAd;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,MAAIK,GAAG,GAAC,CAAR;AACA,SACE,MAAC,MAAD;AAAQ,IAAA,OAAO,EACb;AAAK,MAAA,KAAK,EAAElB,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGa,KAAK,CAACC,GAAN,CAAU,UAACK,GAAD;AAAA,aACV,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEA,GAAG,CAACJ,KAAjB;AAAwB,QAAA,GAAG,EAAEI,GAAG,CAACF,GAAjC;AAAsC,QAAA,GAAG,EAAEE,GAAG,CAACD,GAA/C;AAAoD,QAAA,KAAK,EAAEb,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADU;AAAA,KAAV,CAFH,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAUD,CAfD,E,CAiBA","sourcesContent":["import Layout from './components/MyLayout';\r\nimport cheerio from 'cheerio';\r\nimport axios from 'axios';\r\nimport React, {useState} from 'react';\r\nimport Post from './components/Post'\r\n\r\nconst layoutStyle = {\r\n  marginTop: 10,\r\n  marginBottom: 20,\r\n  padding: 20,\r\n  border: '1px solid #DDD'\r\n};\r\nconst postStyle={\r\n  border: '1px solid #ddd',\r\n  borderRadius: '4px',\r\n  padding: '5px',\r\n  width: '200px',\r\n};\r\n\r\n/****\r\n * Bat dau config\r\n */\r\n\r\n const myConfig = {\r\n   webSite: {\r\n     muctim: {\r\n        url: 'http://teen360.muctim.com.vn/',\r\n        parent: '',\r\n        child: '',\r\n     },\r\n    },\r\n }\r\n\r\n\r\n\r\n// client side\r\nexport default ({props1, props2, props3}) => {\r\n  console.log({props1, props2, props3})\r\n  const props = props1.map((title, index)=>({title: title, img: props2[index], key: index}))\r\n  console.log(props);\r\n  let key=0;\r\n  return (\r\n    <Layout content={\r\n      <div style={layoutStyle}>\r\n        <h2>Result</h2>\r\n        {props.map((url)=>(\r\n         <Post title={url.title} img={url.img} key={url.key} style={postStyle}/>\r\n        ))}\r\n      </div>\r\n    }/>  \r\n  )\r\n}\r\n\r\n// server side\r\nexport async function getServerSideProps(){\r\n  let URL = myConfig.webSite.muctim.url\r\n  let resFromUrl = await axios.get(URL)\r\n\r\n  let $ = cheerio.load(resFromUrl.data)\r\n  let links=[];\r\n  let title = [];\r\n  let time = [];\r\n  let imgs=[];\r\n  let description = [];\r\n  $('.clearfix')\r\n  .each((index, element)=>{\r\n    $(element)\r\n    .find('article')\r\n    .find('span')\r\n    .each((index, element)=>{\r\n      time.push($(element).text())\r\n    })\r\n  })\r\n  .find('ul')\r\n  .find('li')\r\n  .find('a')\r\n  .each((index, element)=>{\r\n    $(element)\r\n    .find('strong')\r\n    .each((index, element)=>{\r\n      title.push($(element).text())\r\n    })\r\n  })\r\n  .find('div')\r\n  .each((index, element)=>{\r\n    imgs.push($(element).attr('data-lazy'))\r\n  })\r\n  const urlsImgId1 = title.filter(n => n != undefined )\r\n  const urlsImgId2 = imgs.filter(n => n != undefined )\r\n  const urlsImgId3 = time.filter(n => n != undefined )\r\n\r\n  return {\r\n    props: {\r\n      props1: urlsImgId1,\r\n      props2: urlsImgId2,\r\n      props3: urlsImgId3\r\n    }\r\n  }  \r\n\r\n}"]},"metadata":{},"sourceType":"module"}