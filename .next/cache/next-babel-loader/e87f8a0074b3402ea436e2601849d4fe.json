{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\project\\\\hello-next\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport Layout from \"./components/MyLayout\";\nimport React, { useState } from \"react\";\nimport Post from \"./components/Post\";\nvar layoutStyle = {\n  marginTop: \"10\",\n  marginBottom: \"20\",\n  padding: \"20\",\n  border: \"1px solid #DDD\"\n};\nvar postStyle = {\n  border: \"1px solid #ddd\",\n  borderRadius: \"4px\",\n  padding: \"5px\",\n  width: \"200px\"\n};\n/****\r\n * Bat dau config\r\n */\n\n// client side\nfunction Page(props) {\n  var _this = this;\n\n  console.log({\n    titleResult: titleResult,\n    addressResult: addressResult,\n    companyResult: companyResult,\n    summaryResult: summaryResult\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, props.titleResult.map(function (el, index) {\n    return __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 18\n      }\n    }, el);\n  })));\n}\n\nexport var __N_SSP = true;\nexport default Page; // server side","map":{"version":3,"sources":["C:/Users/Admin/Desktop/project/hello-next/pages/index.js"],"names":["Layout","React","useState","Post","layoutStyle","marginTop","marginBottom","padding","border","postStyle","borderRadius","width","Page","props","console","log","titleResult","addressResult","companyResult","summaryResult","map","el","index"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AAGA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,IADO;AAElBC,EAAAA,YAAY,EAAE,IAFI;AAGlBC,EAAAA,OAAO,EAAE,IAHS;AAIlBC,EAAAA,MAAM,EAAE;AAJU,CAApB;AAMA,IAAMC,SAAS,GAAG;AAChBD,EAAAA,MAAM,EAAE,gBADQ;AAEhBE,EAAAA,YAAY,EAAE,KAFE;AAGhBH,EAAAA,OAAO,EAAE,KAHO;AAIhBI,EAAAA,KAAK,EAAE;AAJS,CAAlB;AAOA;;;;AAgBA;AACA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACnBC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,IAAAA,WAAW,EAAXA,WAAF;AAAeC,IAAAA,aAAa,EAAbA,aAAf;AAA8BC,IAAAA,aAAa,EAAbA,aAA9B;AAA6CC,IAAAA,aAAa,EAAbA;AAA7C,GAAZ;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,KAAK,CAACG,WAAN,CAAkBI,GAAlB,CAAsB,UAACC,EAAD,EAAKC,KAAL,EAAe;AACpC,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,EAAJ,CAAP;AACD,GAFA,CADH,CADF,CADF;AASD;;;AAED,eAAeT,IAAf,C,CACA","sourcesContent":["import Layout from \"./components/MyLayout\";\r\nimport cheerio from \"cheerio\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Post from \"./components/Post\";\r\n\r\nconst layoutStyle = {\r\n  marginTop: \"10\",\r\n  marginBottom: \"20\",\r\n  padding: \"20\",\r\n  border: \"1px solid #DDD\",\r\n};\r\nconst postStyle = {\r\n  border: \"1px solid #ddd\",\r\n  borderRadius: \"4px\",\r\n  padding: \"5px\",\r\n  width: \"200px\",\r\n};\r\n\r\n/****\r\n * Bat dau config\r\n */\r\n\r\nconst myConfig = {\r\n  webSite: {\r\n    url: \"https://vn.indeed.com/jobs?q=&l=Vi%E1%BB%87t+Nam&start=\",\r\n    parent: \"#resultsCol\",\r\n    child: \".jobsearch-SerpJobCard\",\r\n    title: 'a[data-tn-element=\"jobTitle\"]',\r\n    company: \".company\",\r\n    address: \".accessible-contrast-color-location\",\r\n    summary: \".summary\",\r\n  },\r\n};\r\n\r\n// client side\r\nfunction Page(props) {\r\n  console.log({ titleResult, addressResult, companyResult, summaryResult });\r\n  return (\r\n    <div>\r\n      <Layout>\r\n        {props.titleResult.map((el, index) => {\r\n          return <p>{el}</p>;\r\n        })}\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page;\r\n// server side\r\nexport async function getServerSideProps() {\r\n  let couter = 10;\r\n  let title = [];\r\n  let company = [];\r\n  let address = [];\r\n  let summary = [];\r\n  let summaryTemp = [];\r\n  while (couter < 20) {\r\n    let URL = myConfig.webSite.url + { couter };\r\n    let resFromUrl = await axios.get(URL);\r\n    let $ = cheerio.load(resFromUrl.data);\r\n    // đống code để lấy dữ liệu\r\n    $(myConfig.webSite.parent)\r\n      .find(myConfig.webSite.child)\r\n      .each((i, el) => {\r\n        $(el)\r\n          .find(myConfig.webSite.title)\r\n          .each((i, el) => title.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.company)\r\n          .each((i, el) => company.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.address)\r\n          .each((i, el) => address.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.summary)\r\n          .each((i, el) => {\r\n            $(el)\r\n              .find(\"li\")\r\n              .each((i, el) => {\r\n                summaryTemp.push($(el).text());\r\n              });\r\n            summary.push(summaryTemp);\r\n            summaryTemp = [];\r\n          });\r\n      });\r\n    couter += 10;\r\n  }\r\n  // Duyệt qua các mảng\r\n  const titleResult = title.filter((n) => n != undefined);\r\n  const addressResult = address.filter((n) => n != undefined);\r\n  const companyResult = company.filter((n) => n != undefined);\r\n  const summaryResult = summary.filter((n) => n != undefined);\r\n\r\n  return {\r\n    props: {\r\n      titleResult: titleResult,\r\n      addressResult: addressResult,\r\n      companyResult: companyResult,\r\n      summaryResult: summaryResult,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}