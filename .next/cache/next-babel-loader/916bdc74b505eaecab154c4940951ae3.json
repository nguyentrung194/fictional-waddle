{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\hello-next\\\\pages\\\\index.tsx\";\n\nvar __jsx = React.createElement;\nimport Layout from './components/MyLayout';\nimport cheerio from 'cheerio';\nimport axios from 'axios';\nimport NameForm from './components/NameForm';\nimport React, { useState } from 'react';\nvar layoutStyle = {\n  marginTop: 10,\n  marginBottom: 20,\n  padding: 20,\n  border: '1px solid #DDD'\n}; // client side\n\nexport default (function (props) {\n  var _useState = useState(''),\n      message = _useState[0],\n      setMessage = _useState[1];\n\n  var callbackFunction = function callbackFunction(childData) {\n    setMessage(childData);\n  }; // console.log(props)\n\n\n  var key = 0;\n  return __jsx(Layout, {\n    content: __jsx(\"div\", {\n      style: layoutStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }\n    }, __jsx(NameForm, {\n      parentCallback: callbackFunction,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }\n    }), message, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, \"Result\"), props\n    /*.urlsImg.map((url)=>(\r\n    <img src={url} alt=\"\" key={key++}/>\r\n    ))} */\n    ),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  });\n}); // server side\n\nexport function getServer(_ref) {\n  var message = _ref.message;\n\n  if (message) {\n    (function getServerSideProps(_ref2) {\n      var message, message1, URL, resFromUrl, $, links, urlsImg;\n      return _regeneratorRuntime.async(function getServerSideProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              message = _ref2.message;\n              message1 = 'https://tuoitre.vn/kinh-doanh.htm';\n              URL = message1; //'https://tuoitre.vn/kinh-doanh.htm'\n\n              if (message) {\n                URL = message;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(axios.get(URL));\n\n            case 6:\n              resFromUrl = _context.sent;\n              $ = cheerio.load(resFromUrl.data);\n              links = [];\n              $('.list-news-content').find('li.news-item').find('a.pos-rlt').find('img.img212x132').each(function (index, element) {\n                links.push($(element).attr(\"src\"));\n              });\n              urlsImg = links.filter(function (n) {\n                return n != undefined;\n              });\n              return _context.abrupt(\"return\", {\n                props: {\n                  urlsImg: urlsImg\n                }\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/hello-next/pages/index.tsx"],"names":["Layout","cheerio","axios","NameForm","React","useState","layoutStyle","marginTop","marginBottom","padding","border","props","message","setMessage","callbackFunction","childData","key","getServer","getServerSideProps","message1","URL","get","resFromUrl","$","load","data","links","find","each","index","element","push","attr","urlsImg","filter","n","undefined"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AAGA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,EADO;AAElBC,EAAAA,YAAY,EAAE,EAFI;AAGlBC,EAAAA,OAAO,EAAE,EAHS;AAIlBC,EAAAA,MAAM,EAAE;AAJU,CAApB,C,CAQA;;AACA,gBAAe,UAACC,KAAD,EAAW;AAAA,kBACMN,QAAQ,CAAC,EAAD,CADd;AAAA,MACjBO,OADiB;AAAA,MACRC,UADQ;;AAExB,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,SAAD,EAAe;AACtCF,IAAAA,UAAU,CAACE,SAAD,CAAV;AACD,GAFD,CAFwB,CAKxB;;;AACA,MAAIC,GAAG,GAAC,CAAR;AACA,SACE,MAAC,MAAD;AAAQ,IAAA,OAAO,EACb;AAAK,MAAA,KAAK,EAAEV,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,QAAD;AAAU,MAAA,cAAc,EAAEQ,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGF,OAFH,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIID;AAAK;;;AAJT,KADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAYD,CAnBD,E,CAqBA;;AACA,OAAO,SAASM,SAAT,OAA6B;AAAA,MAATL,OAAS,QAATA,OAAS;;AAClC,MAAGA,OAAH,EAAW;AACX,KAAC,SAAeM,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmCN,cAAAA,OAAnC,SAAmCA,OAAnC;AACKO,cAAAA,QADL,GACgB,mCADhB;AAEKC,cAAAA,GAFL,GAEWD,QAFX,EAEmB;;AAClB,kBAAGP,OAAH,EAAY;AAACQ,gBAAAA,GAAG,GAAGR,OAAN;AAAc;;AAH5B;AAAA,+CAI0BV,KAAK,CAACmB,GAAN,CAAUD,GAAV,CAJ1B;;AAAA;AAIOE,cAAAA,UAJP;AAMOC,cAAAA,CANP,GAMWtB,OAAO,CAACuB,IAAR,CAAaF,UAAU,CAACG,IAAxB,CANX;AAOKC,cAAAA,KAPL,GAOa,EAPb;AAQCH,cAAAA,CAAC,CAAC,oBAAD,CAAD,CACGI,IADH,CACQ,cADR,EAEGA,IAFH,CAEQ,WAFR,EAGGA,IAHH,CAGQ,gBAHR,EAIGC,IAJH,CAIQ,UAACC,KAAD,EAAQC,OAAR,EAAkB;AACtBJ,gBAAAA,KAAK,CAACK,IAAN,CAAWR,CAAC,CAACO,OAAD,CAAD,CAAWE,IAAX,CAAgB,KAAhB,CAAX;AACD,eANH;AAOQC,cAAAA,OAfT,GAemBP,KAAK,CAACQ,MAAN,CAAa,UAAAC,CAAC;AAAA,uBAAIA,CAAC,IAAIC,SAAT;AAAA,eAAd,CAfnB;AAAA,+CAgBU;AACLzB,gBAAAA,KAAK,EAAE;AAACsB,kBAAAA,OAAO,EAAPA;AAAD;AADF,eAhBV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAqBC;AACF","sourcesContent":["import Layout from './components/MyLayout';\r\nimport cheerio from 'cheerio';\r\nimport axios from 'axios';\r\nimport NameForm from './components/NameForm';\r\nimport React, {useState} from 'react';\r\n\r\n\r\nconst layoutStyle = {\r\n  marginTop: 10,\r\n  marginBottom: 20,\r\n  padding: 20,\r\n  border: '1px solid #DDD'\r\n};\r\n\r\n\r\n// client side\r\nexport default (props) => {\r\n  const [message, setMessage] = useState('')\r\n  const callbackFunction = (childData) => {\r\n    setMessage(childData)\r\n  };\r\n  // console.log(props)\r\n  let key=0;\r\n  return (\r\n    <Layout content={\r\n      <div style={layoutStyle}>\r\n        <NameForm parentCallback={callbackFunction}/>\r\n        {message}\r\n        <h2>Result</h2>\r\n        { props/*.urlsImg.map((url)=>(\r\n          <img src={url} alt=\"\" key={key++}/>\r\n        ))} */}\r\n      </div>\r\n    }/>  \r\n  )\r\n}\r\n\r\n// server side\r\nexport function getServer({message}){\r\n  if(message){\r\n  (async function getServerSideProps({message}){\r\n    let message1 = 'https://tuoitre.vn/kinh-doanh.htm'\r\n    let URL = message1//'https://tuoitre.vn/kinh-doanh.htm'\r\n    if(message) {URL = message}\r\n    const resFromUrl = await axios.get(URL)\r\n  \r\n    const $ = cheerio.load(resFromUrl.data)\r\n    let links = [];\r\n    $('.list-news-content')\r\n      .find('li.news-item')\r\n      .find('a.pos-rlt')\r\n      .find('img.img212x132')\r\n      .each((index, element)=>{\r\n        links.push($(element).attr(\"src\"))\r\n      })\r\n      const urlsImg = links.filter(n => n != undefined )\r\n      return {\r\n        props: {urlsImg}\r\n      }  \r\n  \r\n  })();\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}