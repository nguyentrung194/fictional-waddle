{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\project\\\\hello-next\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport Layout from \"./components/MyLayout\";\nimport React, { useState } from \"react\";\nimport Post from \"./components/Post\";\nvar layoutStyle = {\n  marginTop: \"10\",\n  marginBottom: \"20\",\n  padding: \"20\",\n  border: \"1px solid #DDD\"\n};\nvar postStyle = {\n  border: \"1px solid #ddd\",\n  borderRadius: \"4px\",\n  padding: \"5px\",\n  width: \"200px\",\n  paddingTop: \"30px\"\n};\n/****\r\n * Bat dau config\r\n */\n\n// client side\nfunction Page(_ref) {\n  var _this = this;\n\n  var titleResult = _ref.titleResult,\n      addressResult = _ref.addressResult,\n      companyResult = _ref.companyResult,\n      summaryResult = _ref.summaryResult;\n  var data = titleResult.map(function (el, idx) {\n    return {\n      title: el,\n      address: addressResult[idx],\n      company: companyResult[idx],\n      summary: summaryResult[idx]\n    };\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, data.map(function (el, idx) {\n    return __jsx(\"div\", {\n      style: postStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, __jsx(\"h1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \"STT:\", idx), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, el.title), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, el.address), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, el.company), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, el.summary));\n  })));\n}\n\nexport var __N_SSP = true;\nexport default Page; // server side","map":{"version":3,"sources":["C:/Users/Admin/Desktop/project/hello-next/pages/index.js"],"names":["Layout","React","useState","Post","layoutStyle","marginTop","marginBottom","padding","border","postStyle","borderRadius","width","paddingTop","Page","titleResult","addressResult","companyResult","summaryResult","data","map","el","idx","title","address","company","summary"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AAGA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,IADO;AAElBC,EAAAA,YAAY,EAAE,IAFI;AAGlBC,EAAAA,OAAO,EAAE,IAHS;AAIlBC,EAAAA,MAAM,EAAE;AAJU,CAApB;AAMA,IAAMC,SAAS,GAAG;AAChBD,EAAAA,MAAM,EAAE,gBADQ;AAEhBE,EAAAA,YAAY,EAAE,KAFE;AAGhBH,EAAAA,OAAO,EAAE,KAHO;AAIhBI,EAAAA,KAAK,EAAE,OAJS;AAKhBC,EAAAA,UAAU,EAAE;AALI,CAAlB;AAQA;;;;AAgBA;AACA,SAASC,IAAT,OAA4E;AAAA;;AAAA,MAA5DC,WAA4D,QAA5DA,WAA4D;AAAA,MAA/CC,aAA+C,QAA/CA,aAA+C;AAAA,MAAhCC,aAAgC,QAAhCA,aAAgC;AAAA,MAAjBC,aAAiB,QAAjBA,aAAiB;AAC1E,MAAMC,IAAI,GAAGJ,WAAW,CAACK,GAAZ,CAAgB,UAACC,EAAD,EAAKC,GAAL,EAAa;AACxC,WAAO;AACLC,MAAAA,KAAK,EAAEF,EADF;AAELG,MAAAA,OAAO,EAAER,aAAa,CAACM,GAAD,CAFjB;AAGLG,MAAAA,OAAO,EAAER,aAAa,CAACK,GAAD,CAHjB;AAILI,MAAAA,OAAO,EAAER,aAAa,CAACI,GAAD;AAJjB,KAAP;AAMD,GAPY,CAAb;AAQA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,IAAI,CAACC,GAAL,CAAS,UAACC,EAAD,EAAKC,GAAL,EAAa;AACrB,WACE;AAAK,MAAA,KAAK,EAAEZ,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAASY,GAAT,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,EAAE,CAACE,KAAP,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,EAAE,CAACG,OAAP,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIH,EAAE,CAACI,OAAP,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIJ,EAAE,CAACK,OAAP,CALF,CADF;AASD,GAVA,CADH,CADF,CADF;AAiBD;;;AAED,eAAeZ,IAAf,C,CACA","sourcesContent":["import Layout from \"./components/MyLayout\";\r\nimport cheerio from \"cheerio\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Post from \"./components/Post\";\r\n\r\nconst layoutStyle = {\r\n  marginTop: \"10\",\r\n  marginBottom: \"20\",\r\n  padding: \"20\",\r\n  border: \"1px solid #DDD\",\r\n};\r\nconst postStyle = {\r\n  border: \"1px solid #ddd\",\r\n  borderRadius: \"4px\",\r\n  padding: \"5px\",\r\n  width: \"200px\",\r\n  paddingTop: \"30px\",\r\n};\r\n\r\n/****\r\n * Bat dau config\r\n */\r\n\r\nconst myConfig = {\r\n  webSite: {\r\n    url: \"https://vn.indeed.com/jobs?q=&l=Vi%E1%BB%87t+Nam&start=\",\r\n    parent: \"#resultsCol\",\r\n    child: \".jobsearch-SerpJobCard\",\r\n    title: 'a[data-tn-element=\"jobTitle\"]',\r\n    company: \".company\",\r\n    address: \".accessible-contrast-color-location\",\r\n    summary: \".summary\",\r\n  },\r\n};\r\n\r\n// client side\r\nfunction Page({ titleResult, addressResult, companyResult, summaryResult }) {\r\n  const data = titleResult.map((el, idx) => {\r\n    return {\r\n      title: el,\r\n      address: addressResult[idx],\r\n      company: companyResult[idx],\r\n      summary: summaryResult[idx],\r\n    };\r\n  });\r\n  return (\r\n    <div>\r\n      <Layout>\r\n        {data.map((el, idx) => {\r\n          return (\r\n            <div style={postStyle}>\r\n              <h1>STT:{idx}</h1>\r\n              <p>{el.title}</p>\r\n              <p>{el.address}</p>\r\n              <p>{el.company}</p>\r\n              <p>{el.summary}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page;\r\n// server side\r\nexport async function getServerSideProps() {\r\n  let couter = 10;\r\n  let title = [];\r\n  let company = [];\r\n  let address = [];\r\n  let summary = [];\r\n  let summaryTemp = [];\r\n  while (couter < 20) {\r\n    let URL = myConfig.webSite.url + { couter };\r\n    let resFromUrl = await axios.get(URL);\r\n    let $ = cheerio.load(resFromUrl.data);\r\n    // đống code để lấy dữ liệu\r\n    $(myConfig.webSite.parent)\r\n      .find(myConfig.webSite.child)\r\n      .each((i, el) => {\r\n        $(el)\r\n          .find(myConfig.webSite.title)\r\n          .each((i, el) => title.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.company)\r\n          .each((i, el) => company.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.address)\r\n          .each((i, el) => address.push($(el).text()));\r\n        $(el)\r\n          .find(myConfig.webSite.summary)\r\n          .each((i, el) => {\r\n            $(el)\r\n              .find(\"li\")\r\n              .each((i, el) => {\r\n                summaryTemp.push($(el).text());\r\n              });\r\n            summary.push(summaryTemp);\r\n            summaryTemp = [];\r\n          });\r\n      });\r\n    couter += 10;\r\n  }\r\n  // Duyệt qua các mảng\r\n  const titleResult = title.filter((n) => n != undefined);\r\n  const addressResult = address.filter((n) => n != undefined);\r\n  const companyResult = company.filter((n) => n != undefined);\r\n  const summaryResult = summary.filter((n) => n != undefined);\r\n\r\n  return {\r\n    props: {\r\n      titleResult: titleResult,\r\n      addressResult: addressResult,\r\n      companyResult: companyResult,\r\n      summaryResult: summaryResult,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}